---
layout: default
title: Books
permalink: /books/
search_exclude: true
---

<header class="section-header">
  <h1>Books</h1>
  <p class="muted">Reading journals and marginalia: summaries, quotations, and commentary on the works that feed this project.</p>
  <p class="muted">Grouped by author for quiet browsing.</p>
</header>

{% assign published_books = site.books | where_exp: 'i','i.published != false' %}
{% assign groups = published_books | group_by: 'author' | sort: 'name' %}

{% for g in groups %}
  <section class="author-section">
    <h2 class="author-heading">{{ g.name | default: 'Unknown Author' }}</h2>
    <div class="bookshelf">
      {% for b in g.items %}
        <article class="book-card">
          <a href="{{ b.url | relative_url }}" title="{{ b.title }}">
            {% assign img = b.image | default: b.cover | default: b.cover_image %}
            {% if img %}
              <img class="book-img" src="{{ img | relative_url }}" alt="{{ b.title | escape }}" loading="lazy">
            {% else %}
              {% capture ph %}{% include ph_url.html id=b.url %}{% endcapture %}
              <img class="book-img" src="{{ ph | strip | relative_url }}" alt="{{ b.title | escape }}" loading="lazy">
            {% endif %}
            <p class="book-title">{{ b.title }}</p>
          </a>
        </article>
      {% endfor %}
    </div>
  </section>
{% endfor %}

{% if groups == empty %}
  <p class="muted">No books yet.</p>
{% endif %}
